---
sidebar: sidebar 
permalink: automate-report-upgrade-health-checker.html 
keywords: upgrade, health, checker 
summary: 대규모의 복잡한 환경에서 ONTAP 업그레이드를 계획할 때 수동 작업을 줄이기 위해 업그레이드 상태 점검 보고서 생성을 자동화할 수 있습니다. 
---
= Upgrade Health Checker를 사용하여 업그레이드 계획 생성 자동화
:hardbreaks:
:allow-uri-read: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
대규모의 복잡한 환경에서 ONTAP 업그레이드를 계획할 때 수동 작업을 줄이기 위해 업그레이드 상태 점검 보고서 생성을 자동화할 수 있습니다.

.단계
. 업그레이드 보고서가 성공적으로 생성되도록 하려면 link:generate-upgrade-health-checker-report.html["ONTAP 업그레이드 보고서를 생성합니다"]에 설명된 필수 설정 단계와 일회성 작업을 모두 완료하십시오.
. 사용 환경에 맞는 매개 변수를 사용하여 Upgrade Health Checker를 실행하는 스크립트를 생성합니다.
+
[source, cli]
----
./uhc \
  --cluster-ip=<cluster-ip> \
  --cluster-username=<cluster-username> \
  --cluster-password=<cluster-password> \
  --target-ontap-version=<target-ontap-version> \
  --accept-eula=true
----
+
다음은 월요일부터 금요일까지 오전 4시에 해당 도구를 실행하는 cronjob의 예입니다. 바이너리 파일과 config.yaml 파일은 /opt/uhc/tool/에 설치되었습니다.

+
Bash 스크립트:

+
[listing]
----
#!/bin/bash
cd /opt/uhc/tool
/opt/uhc/tool/uhc --accept-eula true --cluster-ip cluster-mgmt1.example.com --target-ontap-version current --cluster-username uhctool --cluster-password passw0rd
/opt/uhc/tool/uhc --accept-eula true --cluster-ip cluster-mgmt2.example.com --target-ontap-version 9.14.1 --cluster-username uhctool --cluster-password passw0rd
----
+
Cron 작업:

+
[listing]
----
0 4 * * 1-5 /usr/local/bin/uhccron.sh
----
. 업그레이드 상태 검사기가 검사를 완료하면  `runs` 폴더로 이동하여 업그레이드 계획 및 클러스터 보고서를 확인하십시오.
+

NOTE: 프로그램을 실행할 때마다 고유한 실행으로 간주되며, 관련 `runs` 폴더에 모든 관련 데이터, 로그 및 결과가 저장됩니다.

. 보고서 파일(이름은 `uhc_<cluster-name>_<YYYYMMDDHHMMSS>.html`)을 웹 브라우저에서 열어 보고서를 확인하십시오. Upgrade Health Checker를 원격 호스트에서 실행하는 경우 먼저 보고서 파일을 웹 브라우저에서 볼 수 있는 컴퓨터로 다운로드하십시오.
+
로그 경로 및 보고서 경로는 다음과 같습니다.

+
** 로그 경로: `<output-path>/<unique-run-dir>/<cluster-name>/logs`
** 보고서 경로: `<output-path>/<unique-run-dir>/<cluster-name>/results/uhc_<cluster-name>_<YYYYMMDDHHMMSS>.html`



